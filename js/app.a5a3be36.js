(function(e){function t(t){for(var n,c,s=t[0],i=t[1],u=t[2],d=0,m=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(m.length)m.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var i=r[s];0!==o[i]&&(n=!1)}n&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},o={app:0},a=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),o=r.n(n);o.a},"9c0c":function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),r("router-view")],1)},a=[],c=(r("5c0b"),r("2877")),s={},i=Object(c["a"])(s,o,a,!1,null,null,null),u=i.exports,l=r("8c4f"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("h1",[e._v("Recomator")])]),r("v-main",[null!==e.$store.state.recommendationsStore.progress?r("v-progress-linear",{attrs:{value:e.$store.state.recommendationsStore.progress,"data-name":"main_progress_bar"}}):e._e(),null===e.$store.state.recommendationsStore.progress?r("v-container",{attrs:{fluid:"","data-name":"main_container"}},[r("v-row",[r("v-col",[r("CoreTable")],1)],1)],1):e._e()],1),r("Footer")],1)},m=[],p=r("d4ec"),f=r("262e"),b=r("2caf"),v=r("9ab4"),h=r("60a3"),S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{attrs:{dense:"",headers:e.headers,items:this.$store.getters["filteredRecommendationsWithExtras"],"single-select":!1,"show-select":"","item-key":"name","footer-props":{itemsPerPageOptions:[10,100,-1]}},scopedSlots:e._u([{key:"body.prepend",fn:function(e){var t=e.isMobile;return[r("FiltersRow",{attrs:{isMobile:t}})]}},{key:"item.resourceCol",fn:function(e){var t=e.item;return[r("ResourceCell",{attrs:{rowRecommendation:t}})]}},{key:"item.projectCol",fn:function(e){var t=e.item;return[r("ProjectCell",{attrs:{rowRecommendation:t}})]}},{key:"item.typeCol",fn:function(e){var t=e.item;return[r("TypeCell",{attrs:{rowRecommendation:t}})]}},{key:"item.description",fn:function(e){var t=e.item;return[r("DescriptionCell",{attrs:{rowRecommendation:t}})]}},{key:"item.costCol",fn:function(e){var t=e.item;return[r("SavingsCostCell",{attrs:{rowRecommendation:t}})]}},{key:"item.statusCol",fn:function(e){var t=e.item;return[r("ApplyAndStatusCell",{attrs:{rowRecommendation:t}})]}}]),model:{value:e.selectedRows,callback:function(t){e.selectedRows=t},expression:"selectedRows"}})},y=[],g=r("bee2"),C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isMobile?r("tr",[r("td",[r("ResourceFilter"),r("ProjectFilter"),r("TypeFilter"),r("DescriptionFilter"),r("CostFilter"),r("StatusFilter")],1)]):r("tr",[r("td"),r("td",{staticClass:"pb-5"},[r("ResourceFilter")],1),r("td",[r("ProjectFilter")],1),r("td",[r("TypeFilter")],1),r("td",{staticClass:"pb-5"},[r("DescriptionFilter")],1),r("td",[r("CostFilter")],1),r("td",[r("StatusFilter")],1)])},j=[],O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-combobox",{attrs:{items:e.allCostCategories,label:"Savings/Costs",multiple:""},model:{value:e.costCategoriesSelected,callback:function(t){e.costCategoriesSelected=t},expression:"costCategoriesSelected"}})},w=[];r("07ac"),r("a4d3"),r("e01a"),r("caad"),r("c975"),r("2532");function R(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())}function x(e,t){return 0===e.projectsSelected.length||e.projectsSelected.includes(t.projectCol)}function _(e,t){return 0===e.typesSelected.length||e.typesSelected.includes(t.typeCol)}function k(e,t){return 0===e.statusesSelected.length||e.statusesSelected.includes(t.statusCol)}function E(e,t){return 0==e.costCategoriesSelected.length||t.costCol>=0&&e.costCategoriesSelected.includes(I.costs)||t.costCol<=0&&e.costCategoriesSelected.includes(I.gains)}function T(e,t){return 0===e.resourceNameSearchText.length||R(e.resourceNameSearchText,t.resourceCol)}function D(e,t){return 0===e.descriptionSearchText.length||R(e.descriptionSearchText,t.description)}function A(){return{resourceNameSearchText:"",descriptionSearchText:"",projectsSelected:[],typesSelected:[],statusesSelected:[],costCategoriesSelected:[],selected:[]}}var N={setResourceNameSearchText:function(e,t){e.resourceNameSearchText=t},setDescriptionSearchText:function(e,t){e.descriptionSearchText=t},setProjectsSelected:function(e,t){e.projectsSelected=t},setTypesSelected:function(e,t){e.typesSelected=t},setStatusesSelected:function(e,t){e.statusesSelected=t},setCostCategoriesSelected:function(e,t){e.costCategoriesSelected=t},setSelected:function(e,t){e.selected=t}};function P(){return{namespaced:!0,state:A(),mutations:N}}function F(e,t){return x(e,t)&&_(e,t)&&k(e,t)&&E(e,t)&&T(e,t)&&D(e,t)}var I={costs:"Costs",gains:"Savings"},$=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"allCostCategories",get:function(){return Object.values(I)}},{key:"costCategoriesSelected",get:function(){return this.$store.state.coreTableStore.costCategoriesSelected},set:function(e){this.$store.commit("coreTableStore/setCostCategoriesSelected",e)}}]),r}(h["b"]);$=Object(v["a"])([h["a"]],$);var V=$,M=V,L=r("6544"),B=r.n(L),q=r("2b5d"),H=Object(c["a"])(M,O,w,!1,null,null,null),U=H.exports;B()(H,{VCombobox:q["a"]});var G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filter descriptions","single-line":"","hide-details":""},model:{value:e.descriptionSearchText,callback:function(t){e.descriptionSearchText=t},expression:"descriptionSearchText"}})},z=[],W=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"descriptionSearchText",get:function(){return this.$store.state.coreTableStore.descriptionSearchText},set:function(e){this.$store.commit("coreTableStore/setDescriptionSearchText",e)}}]),r}(h["b"]);W=Object(v["a"])([h["a"]],W);var Y=W,J=Y,K=r("8654"),Q=Object(c["a"])(J,G,z,!1,null,null,null),X=Q.exports;B()(Q,{VTextField:K["a"]});var Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filter resources","single-line":"","hide-details":""},model:{value:e.resourceNameSearchText,callback:function(t){e.resourceNameSearchText=t},expression:"resourceNameSearchText"}})},ee=[],te=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"resourceNameSearchText",get:function(){return this.$store.state.coreTableStore.resourceNameSearchText},set:function(e){this.$store.commit("coreTableStore/setResourceNameSearchText",e)}}]),r}(h["b"]);te=Object(v["a"])([h["a"]],te);var re=te,ne=re,oe=Object(c["a"])(ne,Z,ee,!1,null,null,null),ae=oe.exports;B()(oe,{VTextField:K["a"]});var ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-combobox",{attrs:{items:e.allStatuses,label:"Select status",multiple:""},model:{value:e.statusesSelected,callback:function(t){e.statusesSelected=t},expression:"statusesSelected"}})},se=[],ie=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"statusesSelected",get:function(){return this.$store.state.coreTableStore.statusesSelected},set:function(e){this.$store.commit("coreTableStore/setStatusesSelected",e)}},{key:"allStatuses",get:function(){return this.$store.getters["recommendationsStore/allStatuses"]}}]),r}(h["b"]);ie=Object(v["a"])([h["a"]],ie);var ue=ie,le=ue,de=Object(c["a"])(le,ce,se,!1,null,null,null),me=de.exports;B()(de,{VCombobox:q["a"]});var pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-combobox",{attrs:{items:e.allTypes,label:"Select types",multiple:""},model:{value:e.typesSelected,callback:function(t){e.typesSelected=t},expression:"typesSelected"}})},fe=[],be=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"allTypes",get:function(){return this.$store.getters["recommendationsStore/allTypes"]}},{key:"typesSelected",get:function(){return this.$store.state.coreTableStore.typesSelected},set:function(e){this.$store.commit("coreTableStore/setTypesSelected",e)}}]),r}(h["b"]);be=Object(v["a"])([h["a"]],be);var ve=be,he=ve,Se=Object(c["a"])(he,pe,fe,!1,null,null,null),ye=Se.exports;B()(Se,{VCombobox:q["a"]});var ge=n["default"].extend({props:{isMobile:{type:Boolean,required:!0}}}),Ce=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return r}(ge);Ce=Object(v["a"])([Object(h["a"])({components:{CostFilter:U,DescriptionFilter:X,ProjectFilter:U,ResourceFilter:ae,StatusFilter:me,TypeFilter:ye}})],Ce);var je=Ce,Oe=je,we=Object(c["a"])(Oe,C,j,!1,null,null,null),Re=we.exports,xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" "+e._s(e.shortName)+" ")])},_e=[],ke=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),Ee=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"shortName",get:function(){return this.rowRecommendation.resourceCol}}]),r}(ke);Ee=Object(v["a"])([h["a"]],Ee);var Te=Ee,De=Te,Ae=Object(c["a"])(De,xe,_e,!1,null,null,null),Ne=Ae.exports,Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" "+e._s(e.project)+" ")])},Fe=[],Ie=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),$e=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"project",get:function(){return this.rowRecommendation.projectCol}}]),r}(Ie);$e=Object(v["a"])([h["a"]],$e);var Ve=$e,Me=Ve,Le=Object(c["a"])(Me,Pe,Fe,!1,null,null,null),Be=Le.exports,qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(e._s(e.description))])},He=[],Ue=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),Ge=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"description",get:function(){return this.rowRecommendation.description}}]),r}(Ue);Ge=Object(v["a"])([h["a"]],Ge);var ze=Ge,We=ze,Ye=Object(c["a"])(We,qe,He,!1,null,null,null),Je=Ye.exports,Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-chip",{staticClass:"ma-2",attrs:{color:"white",label:""}},[r("v-icon",{attrs:{left:""}},[e._v(e._s(e.iconName()))]),e._v(" "+e._s(e.recommenderSubtype)+" ")],1)],1)},Qe=[],Xe=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),Ze=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"iconName",value:function(){switch(this.recommenderSubtype){case"CHANGE_MACHINE_TYPE":return"mdi-move-resize-variant";case"STOP_VM":return"mdi-monitor-off";case"INCREASE_PERFORMANCE":return"mdi-monitor-screenshot";case"SNAPSHOT_AND_DELETE_DISK":return"mdi-harddisk-remove";default:return"mdi-cloud-question"}}},{key:"recommenderSubtype",get:function(){return this.rowRecommendation.typeCol}}]),r}(Xe);Ze=Object(v["a"])([h["a"]],Ze);var et=Ze,tt=et,rt=r("cc20"),nt=r("132d"),ot=Object(c["a"])(tt,Ke,Qe,!1,null,null,null),at=ot.exports;B()(ot,{VChip:rt["a"],VIcon:nt["a"]});var ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-chip",e._g(e._b({attrs:{color:e.costColour,dark:"",block:"true",display:"fill"}},"v-chip",o,!1),n),[e._v(" "+e._s((e.cost>=0?"":"+")+Math.abs(e.costRounded).toFixed(2))+"$ ")])]}}])},[e._v(" "+e._s(e.cost>=0?"Applying this recommendation will cost an additional "+e.costRounded+"$ per week":"Save "+-e.costRounded+"$ per week by applying this recommendation")+" ")])],1)},st=[],it=(r("b680"),n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}})),ut=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"cost",get:function(){return this.rowRecommendation.costCol}},{key:"costRounded",get:function(){return this.cost.toFixed(2)}},{key:"costColour",get:function(){return this.cost>0?"orange":"green"}}]),r}(it);ut=Object(v["a"])([h["a"]],ut);var lt=ut,dt=lt,mt=r("3a2f"),pt=Object(c["a"])(dt,ct,st,!1,null,null,null),ft=pt.exports;B()(pt,{VChip:rt["a"],VTooltip:mt["a"]});var bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.checkStatus("ACTIVE")||e.checkStatus("CLAIMED")?r("v-btn",{attrs:{rounded:"",color:"primary",loading:e.checkStatus("CLAIMED"),dark:"",small:"",block:""},on:{click:function(t){return e.applyRecommendation()}}},[e._v("Apply")]):e._e(),e.checkStatus("SUCCEEDED")?r("v-btn",{attrs:{rounded:"",small:"",label:"",color:"green",block:""}},[r("v-icon",{attrs:{color:"white",left:"",dark:""}},[e._v("mdi-check-circle")]),e._v(" "+e._s(e.rowRecommendation.statusCol)+" ")],1):e._e(),e.checkStatus("FAILED")?r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{color:"red darken-2",small:"",rounded:"",block:""}},n),[r("v-icon",{attrs:{left:"",color:"white"}},[e._v("mdi-alert-box")]),e._v(" Show Error ")],1)]}}],null,!1,278822139),model:{value:e.errorDialogOpened,callback:function(t){e.errorDialogOpened=t},expression:"errorDialogOpened"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v(" "+e._s(e.rowRecommendation.errorHeader)+" ")]),r("v-card-text",[e._v(" "+e._s(e.rowRecommendation.errorDescription)+" ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){return e.applyRecommendation()}}},[e._v(" Retry ")]),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){e.errorDialogOpened=!1}}},[e._v(" Close ")])],1)],1)],1):e._e()],1)},vt=[],ht=(r("b0c0"),r("fb6a"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),function e(){Object(p["a"])(this,e)});function St(e,t){var r="/".concat(e,"/").length,n="/".concat(e,"/[^/]*"),o=new RegExp(n),a=o.exec(t);if(null===a)return"NOT IMPLEMENTED";var c=a[0].slice(r);return c}function yt(e){return new Promise((function(t){return setTimeout(t,e)}))}function gt(){return ht.PRODUCTION_SERVER_ADDRESS}function Ct(e){return e.content.operationGroups[0].operations[0].resource}function jt(e){var t=Ct(e);return St("instances",t)}function Ot(e){var t=Ct(e);return St("projects",t)}function wt(e){var t=e.primaryImpact.costProjection.cost;console.assert("USD"===t.currencyCode,"Only USD supported, got %s",t.currencyCode);var r=parseInt(e.primaryImpact.costProjection.duration.slice(0,-1)),n=0;return void 0!==t.units&&(n+=parseInt(t.units)),void 0!==t.nanos&&(n+=t.nanos/1e9),60*n*60*24*7/r}function Rt(e){return e.recommenderSubtype}ht.DEVELOPMENT_SERVER_ADDRESS="http://localhost:8000",ht.PRODUCTION_SERVER_ADDRESS="";var xt={ACTIVE:"Applicable",CLAIMED:"In progress",SUCCEEDED:"Success",FAILED:"Failed",DISMISSED:"Dismissed"};function _t(e){if(!(e in xt))throw"invalid status name passed: ".concat(e)}function kt(e){return _t(e),xt[e]}var Et=function e(t){Object(p["a"])(this,e),this.name=t.name,this.description=t.description,this.recommenderSubtype=t.recommenderSubtype,this.primaryImpact=t.primaryImpact,this.content=t.content,this.stateInfo=t.stateInfo,this.costCol=wt(t),this.projectCol=Ot(t),this.resourceCol=jt(t),this.typeCol=Rt(t),this.statusCol=kt(t.stateInfo.state)},Tt=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),Dt=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){var e;return Object(p["a"])(this,r),e=t.apply(this,arguments),e.errorDialogOpened=!1,e}return Object(g["a"])(r,[{key:"checkStatus",value:function(e){return _t(e),this.rowRecommendation.statusCol===kt(e)}},{key:"applyRecommendation",value:function(){this.$store.dispatch("recommendationsStore/applyGivenRecommendations",[this.rowRecommendation.name])}}]),r}(Tt);Dt=Object(v["a"])([h["a"]],Dt);var At=Dt,Nt=At,Pt=r("8336"),Ft=r("b0af"),It=r("99d9"),$t=r("169a"),Vt=r("2fa4"),Mt=Object(c["a"])(Nt,bt,vt,!1,null,null,null),Lt=Mt.exports;B()(Mt,{VBtn:Pt["a"],VCard:Ft["a"],VCardActions:It["a"],VCardText:It["b"],VCardTitle:It["c"],VDialog:$t["a"],VIcon:nt["a"],VSpacer:Vt["a"]});var Bt=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){var e;return Object(p["a"])(this,r),e=t.apply(this,arguments),e.headers=[{text:"Resource",value:"resourceCol",sortable:!0},{text:"Project",value:"projectCol",sortable:!0},{text:"Type",value:"typeCol",sortable:!0},{text:"Description",value:"description",sortable:!1},{text:"Savings/cost per week",value:"costCol",sortable:!0},{text:"",value:"statusCol",sortable:!1}],e}return Object(g["a"])(r,[{key:"selectedRows",get:function(){return this.$store.state.coreTableStore.selected},set:function(e){this.$store.commit("coreTableStore/setSelected",e)}}]),r}(h["b"]);Bt=Object(v["a"])([Object(h["a"])({components:{FiltersRow:Re,ResourceCell:Ne,ProjectCell:Be,TypeCell:at,DescriptionCell:Je,SavingsCostCell:ft,ApplyAndStatusCell:Lt}})],Bt);var qt=Bt,Ht=qt,Ut=r("8fea"),Gt=Object(c["a"])(Ht,S,y,!1,null,null,null),zt=Gt.exports;B()(Gt,{VDataTable:Ut["a"]});var Wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.selectedRowsCount>0?r("v-footer",{staticClass:"pa-xl-6 pa-lg-5 pa-md-4 pa-sm-3 pa-xs-0",attrs:{fixed:!0,color:"rgba(255, 210, 20, 1)",app:!0}},[r("v-row",{staticClass:"px-5"},[r("v-col",[r("div",{staticClass:"font-weight-black"},[e._v(" "+e._s(e.footerMessage)+" ")])])],1),r("v-row",{staticClass:"px-5"},[r("v-col",[r("v-btn",{attrs:{rounded:"",color:"primary",dark:""},on:{click:function(t){e.dialog=!0}}},[e._v("Apply Selected Recommendation"+e._s(1==e.selectedRowsCount?"":"s"))])],1)],1)],1):e._e(),r("v-dialog",{attrs:{"max-width":"640px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[r("v-row",[r("v-col",[e._v("Are you sure you want to apply "+e._s(e.selectedRowsCount)+" recommendation"+e._s(1==e.selectedRowsCount?"":"s")+"?")])],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green white--text"},on:{click:function(t){e.applySelectedRecommendations(),e.dialog=!1}}},[e._v(" Proceed ")]),r("v-btn",{attrs:{color:"red white--text"},on:{click:function(t){e.dialog=!1}}},[e._v(" Resign ")])],1)],1)],1)],1)},Yt=[],Jt=(r("99af"),r("4de4"),r("d81d"),r("13d5"),function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){var e;return Object(p["a"])(this,r),e=t.apply(this,arguments),e.dialog=!1,e}return Object(g["a"])(r,[{key:"applySelectedRecommendations",value:function(){this.$store.dispatch("recommendationsStore/applyGivenRecommendations",this.selectedRows.map((function(e){return e.name}))),this.$store.commit("coreTableStore/setSelected",[])}},{key:"selectedRows",get:function(){return this.$store.state.coreTableStore.selected}},{key:"selectedRowsCount",get:function(){return this.selectedRows.length}},{key:"savingsFromSelected",get:function(){return this.selectedRows.filter((function(e){return e.costCol<0})).reduce((function(e,t){return e-t.costCol}),0)}},{key:"spendingsFromSelected",get:function(){return this.selectedRows.filter((function(e){return e.costCol>0})).reduce((function(e,t){return e+t.costCol}),0)}},{key:"performanceSelectedCount",get:function(){return this.selectedRows.filter((function(e){return e.costCol>0})).reduce((function(e){return e+1}),0)}},{key:"applyPart",get:function(){return"Apply ".concat(this.selectedRowsCount," recommendation").concat(1==this.selectedRowsCount?"":"s",".")}},{key:"savingsPart",get:function(){var e=this.savingsFromSelected;return 0===e?"":" Save ".concat(e.toFixed(2),"$ each week by using only the necessary resources.")}},{key:"spendingsPart",get:function(){return 0===this.performanceSelectedCount?"":" Increase performance of ".concat(this.performanceSelectedCount," machine").concat(1==this.performanceSelectedCount?"":"s",", by spending ").concat(this.spendingsFromSelected.toFixed(2),"$ more each week.")}},{key:"footerMessage",get:function(){return this.applyPart+this.savingsPart+this.spendingsPart}}]),r}(n["default"]));Jt=Object(v["a"])([h["a"]],Jt);var Kt=Jt,Qt=Kt,Xt=r("62ad"),Zt=r("553a"),er=r("0fd9"),tr=Object(c["a"])(Qt,Wt,Yt,!1,null,null,null),rr=tr.exports;B()(tr,{VBtn:Pt["a"],VCard:Ft["a"],VCardActions:It["a"],VCardTitle:It["c"],VCol:Xt["a"],VDialog:$t["a"],VFooter:Zt["a"],VRow:er["a"],VSpacer:Vt["a"]});var nr=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return r}(h["b"]);nr=Object(v["a"])([Object(h["a"])({components:{CoreTable:zt,Footer:rr}})],nr);var or=nr,ar=or,cr=r("7496"),sr=r("40dc"),ir=r("a523"),ur=r("f6c4"),lr=r("8e36"),dr=Object(c["a"])(ar,d,m,!1,null,null,null),mr=dr.exports;B()(dr,{VApp:cr["a"],VAppBar:sr["a"],VCol:Xt["a"],VContainer:ir["a"],VMain:ur["a"],VProgressLinear:lr["a"],VRow:er["a"]}),n["default"].use(l["a"]);var pr=[{path:"/",name:"Home",component:mr}],fr=new l["a"]({mode:"hash",base:"/",routes:pr}),br=fr,vr=r("2f62"),hr=(r("4160"),r("a630"),r("4ec9"),r("6062"),r("3ca3"),r("159b"),r("ddb0"),r("b85c")),Sr=(r("96cf"),r("1da1")),yr=gt(),gr=100,Cr=200,jr=200;function Or(){return{recommendations:[],recommendationsByName:new Map,progress:null,errorCode:void 0,errorMessage:void 0}}var wr={addRecommendation:function(e,t){var r=new Et(t);if(void 0!==e.recommendationsByName.get(r.name))throw"Duplicate recommendation name";e.recommendations.push(r),e.recommendationsByName.set(r.name,r)},endFetching:function(e){e.progress=null},setProgress:function(e,t){e.progress=t},resetRecommendations:function(e){e.recommendations=[],e.recommendationsByName.clear()},setError:function(e,t){e.errorCode=t.errorCode,e.errorMessage=t.errorMessage},setRecommendationStatus:function(e,t){var r=e.recommendationsByName.get(t.recName);if(void 0==r)throw"Attempting to access an inexistent recommendation";r.statusCol=kt(t.newStatus)},setRecommendationError:function(e,t){var r=e.recommendationsByName.get(t.recName);if(void 0==r)throw"Attempting to access an inexistent recommendation";r.errorHeader=t.header,r.errorDescription=t.desc}},Rr={fetchRecommendations:function(e){return Object(Sr["a"])(regeneratorRuntime.mark((function t(){var r,n,o,a,c,s,i,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===e.state.progress){t.next=2;break}return t.abrupt("return");case 2:e.commit("setProgress",0);case 3:return t.next=5,fetch("".concat(yr,"/recommendations"));case 5:return r=t.sent,t.next=8,r.json();case 8:if(n=t.sent,o=r.status,o===jr){t.next=14;break}return e.commit("setError",{errorCode:o,errorMessage:n.errorMessage}),e.commit("endFetching"),t.abrupt("return");case 14:if(void 0===n.recommendations){t.next=16;break}return t.abrupt("break",21);case 16:return e.commit("setProgress",Math.floor(100*n.batchesProcessed/n.numberOfBatches)),t.next=19,yt(gr);case 19:t.next=3;break;case 21:a=Object(hr["a"])(n.recommendations);try{for(a.s();!(c=a.n()).done;)s=c.value,e.commit("addRecommendation",s)}catch(d){a.e(d)}finally{a.f()}i=Object(hr["a"])(e.state.recommendations);try{for(i.s();!(u=i.n()).done;)l=u.value,l.statusCol==kt("CLAIMED")&&e.dispatch("watchStatus",l)}catch(d){i.e(d)}finally{i.f()}e.commit("endFetching");case 26:case"end":return t.stop()}}),t)})))()},applyGivenRecommendations:function(e,t){var r=e.dispatch,n=e.state;if(new Set(t).size!==t.length)throw"Duplicates found among given recommendation names";var o=t.map((function(e){return n.recommendationsByName.get(e)}));if(o.includes(void 0))throw"Name given doesn't match an existing recommendation";o.forEach((function(e){return r("applySingleRecommendation",e)}))},applySingleRecommendation:function(e,t){return Object(Sr["a"])(regeneratorRuntime.mark((function r(){var n,o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=e.dispatch,n("setRecommendationStatus",{recName:t.name,newStatus:"CLAIMED"}),r.next=4,fetch("".concat(yr,"/recommendations/apply?name=").concat(t.name),{method:"POST"});case 4:a=r.sent,a.status===jr?o("watchStatus",t):(n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),n("setRecommendationError",{recName:t.name,header:"HTTP ERROR(".concat(a.status,")"),desc:"Couldn't reach the Recomator API:\n".concat(a.statusText)}));case 6:case"end":return r.stop()}}),r)})))()},watchStatus:function(e,t){return Object(Sr["a"])(regeneratorRuntime.mark((function r(){var n,o,a,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=e.dispatch,r.next=3,fetch("".concat(yr,"/recommendations/checkStatus?name=").concat(t.name));case 3:if(a=r.sent,a.status!==jr){r.next=26;break}return r.next=7,a.json();case 7:c=r.sent,r.t0=c.status,r.next="IN PROGRESS"===r.t0?11:"SUCCEEDED"===r.t0?13:"NOT APPLIED"===r.t0?15:"FAILED"===r.t0?18:21;break;case 11:return n("setRecommendationStatus",{recName:t.name,newStatus:"CLAIMED"}),r.abrupt("break",24);case 13:return n("setRecommendationStatus",{recName:t.name,newStatus:"SUCCEEDED"}),r.abrupt("return");case 15:return n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),n("setRecommendationError",{recName:t.name,header:"Server hasn't acknowledged the request",desc:"Recomator API has not received the request to apply this recommendation. You can try applying it again."}),r.abrupt("return");case 18:return n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),n("setRecommendationError",{recName:t.name,header:"Applying recommendation failed server-side. You can try applying it again.",desc:"".concat(c.errorMessage)}),r.abrupt("return");case 21:return n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),n("setRecommendationError",{recName:t.name,header:"Bad status(".concat(c.status,")"),desc:"Recomator API status not recognized."}),r.abrupt("return");case 24:r.next=29;break;case 26:n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),t.errorHeader="Status query failed (HTTP:".concat(a.status,")"),t.errorDescription="Failed to reach the Recomator API, recommendation status is unknown. We will try again in a moment.";case 29:setTimeout((function(){return o("watchStatus",t)}),Cr);case 30:case"end":return r.stop()}}),r)})))()}},xr={allProjects:function(e){var t=e.recommendations.map((function(e){return Ot(e)}));return Array.from(new Set(t))},allTypes:function(e){var t=e.recommendations.map((function(e){return Rt(e)}));return Array.from(new Set(t))},allStatuses:function(e){var t=e.recommendations.map((function(e){return kt(e.stateInfo.state)}));return Array.from(new Set(t))}};function _r(){return{namespaced:!0,state:Or(),mutations:wr,actions:Rr,getters:xr}}n["default"].use(vr["b"]);var kr={filteredRecommendationsWithExtras:function(e){return e.recommendationsStore.recommendations.filter((function(t){return F(e.coreTableStore,t)}))}};function Er(){var e={state:{},getters:kr,modules:{recommendationsStore:_r(),coreTableStore:P()}};return new vr["a"](e)}var Tr=Er(),Dr=r("ce5b"),Ar=r.n(Dr);n["default"].use(Ar.a);var Nr=new Ar.a({}),Pr=Nr;n["default"].config.productionTip=!1,new n["default"]({router:br,store:Tr,vuetify:Pr,render:function(e){return e(u)}}).$mount("#app")}});
//# sourceMappingURL=app.a5a3be36.js.map