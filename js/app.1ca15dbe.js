(function(e){function t(t){for(var n,c,s=t[0],i=t[1],u=t[2],d=0,m=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(m.length)m.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var i=r[s];0!==o[i]&&(n=!1)}n&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},o={app:0},a=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),o=r.n(n);o.a},"9c0c":function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),r("router-view")],1)},a=[],c=(r("5c0b"),r("2877")),s={},i=Object(c["a"])(s,o,a,!1,null,null,null),u=i.exports,l=r("8c4f"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("h1",[e._v("Recomator")])]),r("v-main",[null!==e.$store.state.recommendationsStore.progress?r("v-progress-linear",{attrs:{value:e.$store.state.recommendationsStore.progress,"data-name":"main_progress_bar"}}):e._e(),null===e.$store.state.recommendationsStore.progress?r("v-container",{attrs:{fluid:"","data-name":"main_container"}},[r("v-row",[r("v-col",[r("CoreTable")],1)],1)],1):e._e()],1),r("Footer")],1)},m=[],p=r("d4ec"),f=r("262e"),b=r("2caf"),h=r("9ab4"),v=r("60a3"),S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{attrs:{dense:"",headers:e.headers,items:this.$store.getters["filteredRecommendationsWithExtras"],"single-select":!1,"show-select":"","item-key":"name","footer-props":{itemsPerPageOptions:[10,100,-1]}},scopedSlots:e._u([{key:"body.prepend",fn:function(e){var t=e.isMobile;return[r("FiltersRow",{attrs:{isMobile:t}})]}},{key:"item.resourceCol",fn:function(e){var t=e.item;return[r("ResourceCell",{attrs:{rowRecommendation:t}})]}},{key:"item.projectCol",fn:function(e){var t=e.item;return[r("ProjectCell",{attrs:{rowRecommendation:t}})]}},{key:"item.typeCol",fn:function(e){var t=e.item;return[r("TypeCell",{attrs:{rowRecommendation:t}})]}},{key:"item.description",fn:function(e){var t=e.item;return[r("DescriptionCell",{attrs:{rowRecommendation:t}})]}},{key:"item.costCol",fn:function(e){var t=e.item;return[r("SavingsCostCell",{attrs:{rowRecommendation:t}})]}},{key:"item.statusCol",fn:function(e){var t=e.item;return[r("ApplyAndStatusCell",{attrs:{rowRecommendation:t}})]}}]),model:{value:e.selectedRows,callback:function(t){e.selectedRows=t},expression:"selectedRows"}})},y=[],g=r("bee2"),j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isMobile?r("tr",[r("td",[r("ResourceFilter"),r("ProjectFilter"),r("TypeFilter"),r("DescriptionFilter"),r("CostFilter"),r("StatusFilter")],1)]):r("tr",[r("td"),r("td",{staticClass:"pb-5"},[r("ResourceFilter")],1),r("td",[r("ProjectFilter")],1),r("td",[r("TypeFilter")],1),r("td",{staticClass:"pb-5"},[r("DescriptionFilter")],1),r("td",[r("CostFilter")],1),r("td",[r("StatusFilter")],1)])},C=[],O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-combobox",{attrs:{items:e.allCostCategories,label:"Savings/Costs",multiple:""},model:{value:e.costCategoriesSelected,callback:function(t){e.costCategoriesSelected=t},expression:"costCategoriesSelected"}})},x=[];r("07ac"),r("a4d3"),r("e01a"),r("caad"),r("c975"),r("2532");function w(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())}function R(e,t){return 0===e.projectsSelected.length||e.projectsSelected.includes(t.projectCol)}function _(e,t){return 0===e.typesSelected.length||e.typesSelected.includes(t.typeCol)}function k(e,t){return 0===e.statusesSelected.length||e.statusesSelected.includes(t.statusCol)}function T(e,t){return 0==e.costCategoriesSelected.length||t.costCol>=0&&e.costCategoriesSelected.includes(F.costs)||t.costCol<=0&&e.costCategoriesSelected.includes(F.gains)}function E(e,t){return 0===e.resourceNameSearchText.length||w(e.resourceNameSearchText,t.resourceCol)}function D(e,t){return 0===e.descriptionSearchText.length||w(e.descriptionSearchText,t.description)}function P(){return{resourceNameSearchText:"",descriptionSearchText:"",projectsSelected:[],typesSelected:[],statusesSelected:[],costCategoriesSelected:[],selected:[]}}var N={setResourceNameSearchText:function(e,t){e.resourceNameSearchText=t},setDescriptionSearchText:function(e,t){e.descriptionSearchText=t},setProjectsSelected:function(e,t){e.projectsSelected=t},setTypesSelected:function(e,t){e.typesSelected=t},setStatusesSelected:function(e,t){e.statusesSelected=t},setCostCategoriesSelected:function(e,t){e.costCategoriesSelected=t},setSelected:function(e,t){e.selected=t}};function A(){return{namespaced:!0,state:P(),mutations:N}}function I(e,t){return R(e,t)&&_(e,t)&&k(e,t)&&T(e,t)&&E(e,t)&&D(e,t)}var F={costs:"Costs",gains:"Savings"},$=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"allCostCategories",get:function(){return Object.values(F)}},{key:"costCategoriesSelected",get:function(){return this.$store.state.coreTableStore.costCategoriesSelected},set:function(e){this.$store.commit("coreTableStore/setCostCategoriesSelected",e)}}]),r}(v["b"]);$=Object(h["a"])([v["a"]],$);var V=$,M=V,L=r("6544"),B=r.n(L),H=r("2b5d"),q=Object(c["a"])(M,O,x,!1,null,null,null),U=q.exports;B()(q,{VCombobox:H["a"]});var G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filter descriptions","single-line":"","hide-details":""},model:{value:e.descriptionSearchText,callback:function(t){e.descriptionSearchText=t},expression:"descriptionSearchText"}})},z=[],J=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"descriptionSearchText",get:function(){return this.$store.state.coreTableStore.descriptionSearchText},set:function(e){this.$store.commit("coreTableStore/setDescriptionSearchText",e)}}]),r}(v["b"]);J=Object(h["a"])([v["a"]],J);var Y=J,W=Y,K=r("8654"),Q=Object(c["a"])(W,G,z,!1,null,null,null),X=Q.exports;B()(Q,{VTextField:K["a"]});var Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-combobox",{attrs:{items:e.allProjects,label:"Select projects",multiple:""},model:{value:e.projectsSelected,callback:function(t){e.projectsSelected=t},expression:"projectsSelected"}})},ee=[],te=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"allProjects",get:function(){return this.$store.getters["recommendationsStore/allProjects"]}},{key:"projectsSelected",get:function(){return this.$store.state.coreTableStore.projectsSelected},set:function(e){this.$store.commit("coreTableStore/setProjectsSelected",e)}}]),r}(v["b"]);te=Object(h["a"])([v["a"]],te);var re=te,ne=re,oe=Object(c["a"])(ne,Z,ee,!1,null,null,null),ae=oe.exports;B()(oe,{VCombobox:H["a"]});var ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filter resources","single-line":"","hide-details":""},model:{value:e.resourceNameSearchText,callback:function(t){e.resourceNameSearchText=t},expression:"resourceNameSearchText"}})},se=[],ie=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"resourceNameSearchText",get:function(){return this.$store.state.coreTableStore.resourceNameSearchText},set:function(e){this.$store.commit("coreTableStore/setResourceNameSearchText",e)}}]),r}(v["b"]);ie=Object(h["a"])([v["a"]],ie);var ue=ie,le=ue,de=Object(c["a"])(le,ce,se,!1,null,null,null),me=de.exports;B()(de,{VTextField:K["a"]});var pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-combobox",{attrs:{items:e.allStatuses,label:"Select status",multiple:""},model:{value:e.statusesSelected,callback:function(t){e.statusesSelected=t},expression:"statusesSelected"}})},fe=[],be=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"statusesSelected",get:function(){return this.$store.state.coreTableStore.statusesSelected},set:function(e){this.$store.commit("coreTableStore/setStatusesSelected",e)}},{key:"allStatuses",get:function(){return this.$store.getters["recommendationsStore/allStatuses"]}}]),r}(v["b"]);be=Object(h["a"])([v["a"]],be);var he=be,ve=he,Se=Object(c["a"])(ve,pe,fe,!1,null,null,null),ye=Se.exports;B()(Se,{VCombobox:H["a"]});var ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-combobox",{attrs:{items:e.allTypes,label:"Select types",multiple:""},model:{value:e.typesSelected,callback:function(t){e.typesSelected=t},expression:"typesSelected"}})},je=[],Ce=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"allTypes",get:function(){return this.$store.getters["recommendationsStore/allTypes"]}},{key:"typesSelected",get:function(){return this.$store.state.coreTableStore.typesSelected},set:function(e){this.$store.commit("coreTableStore/setTypesSelected",e)}}]),r}(v["b"]);Ce=Object(h["a"])([v["a"]],Ce);var Oe=Ce,xe=Oe,we=Object(c["a"])(xe,ge,je,!1,null,null,null),Re=we.exports;B()(we,{VCombobox:H["a"]});var _e=n["default"].extend({props:{isMobile:{type:Boolean,required:!0}}}),ke=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return r}(_e);ke=Object(h["a"])([Object(v["a"])({components:{CostFilter:U,DescriptionFilter:X,ProjectFilter:ae,ResourceFilter:me,StatusFilter:ye,TypeFilter:Re}})],ke);var Te=ke,Ee=Te,De=Object(c["a"])(Ee,j,C,!1,null,null,null),Pe=De.exports,Ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" "+e._s(e.shortName)+" ")])},Ae=[],Ie=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),Fe=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"shortName",get:function(){return this.rowRecommendation.resourceCol}}]),r}(Ie);Fe=Object(h["a"])([v["a"]],Fe);var $e=Fe,Ve=$e,Me=Object(c["a"])(Ve,Ne,Ae,!1,null,null,null),Le=Me.exports,Be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" "+e._s(e.project)+" ")])},He=[],qe=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),Ue=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"project",get:function(){return this.rowRecommendation.projectCol}}]),r}(qe);Ue=Object(h["a"])([v["a"]],Ue);var Ge=Ue,ze=Ge,Je=Object(c["a"])(ze,Be,He,!1,null,null,null),Ye=Je.exports,We=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(e._s(e.description))])},Ke=[],Qe=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),Xe=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"description",get:function(){return this.rowRecommendation.description}}]),r}(Qe);Xe=Object(h["a"])([v["a"]],Xe);var Ze=Xe,et=Ze,tt=Object(c["a"])(et,We,Ke,!1,null,null,null),rt=tt.exports,nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-chip",{staticClass:"ma-2",attrs:{color:"white",label:""}},[r("v-icon",{attrs:{left:""}},[e._v(e._s(e.iconName()))]),e._v(" "+e._s(e.recommenderSubtype)+" ")],1)],1)},ot=[],at=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),ct=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"iconName",value:function(){switch(this.recommenderSubtype){case"CHANGE_MACHINE_TYPE":return"mdi-move-resize-variant";case"STOP_VM":return"mdi-monitor-off";case"INCREASE_PERFORMANCE":return"mdi-monitor-screenshot";case"SNAPSHOT_AND_DELETE_DISK":return"mdi-harddisk-remove";default:return"mdi-cloud-question"}}},{key:"recommenderSubtype",get:function(){return this.rowRecommendation.typeCol}}]),r}(at);ct=Object(h["a"])([v["a"]],ct);var st=ct,it=st,ut=r("cc20"),lt=r("132d"),dt=Object(c["a"])(it,nt,ot,!1,null,null,null),mt=dt.exports;B()(dt,{VChip:ut["a"],VIcon:lt["a"]});var pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-chip",e._g(e._b({attrs:{color:e.costColour,dark:"",block:"true",display:"fill"}},"v-chip",o,!1),n),[e._v(" "+e._s((e.cost>=0?"":"+")+Math.abs(e.costRounded).toFixed(2))+"$ ")])]}}])},[e._v(" "+e._s(e.cost>=0?"Applying this recommendation will cost an additional "+e.costRounded+"$ per week":"Save "+-e.costRounded+"$ per week by applying this recommendation")+" ")])],1)},ft=[],bt=(r("b680"),n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}})),ht=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return Object(g["a"])(r,[{key:"cost",get:function(){return this.rowRecommendation.costCol}},{key:"costRounded",get:function(){return this.cost.toFixed(2)}},{key:"costColour",get:function(){return this.cost>0?"orange":"green"}}]),r}(bt);ht=Object(h["a"])([v["a"]],ht);var vt=ht,St=vt,yt=r("3a2f"),gt=Object(c["a"])(St,pt,ft,!1,null,null,null),jt=gt.exports;B()(gt,{VChip:ut["a"],VTooltip:yt["a"]});var Ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.checkStatus("ACTIVE")||e.checkStatus("CLAIMED")?r("v-btn",{attrs:{rounded:"",color:"primary",loading:e.checkStatus("CLAIMED"),dark:"",small:"",block:""},on:{click:function(t){return e.applyRecommendation()}}},[e._v("Apply")]):e._e(),e.checkStatus("SUCCEEDED")?r("v-btn",{attrs:{rounded:"",small:"",label:"",color:"green",block:""}},[r("v-icon",{attrs:{color:"white",left:"",dark:""}},[e._v("mdi-check-circle")]),e._v(" "+e._s(e.rowRecommendation.statusCol)+" ")],1):e._e(),e.checkStatus("FAILED")?r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{color:"red darken-2",small:"",rounded:"",block:""}},n),[r("v-icon",{attrs:{left:"",color:"white"}},[e._v("mdi-alert-box")]),e._v(" Show Error ")],1)]}}],null,!1,278822139),model:{value:e.errorDialogOpened,callback:function(t){e.errorDialogOpened=t},expression:"errorDialogOpened"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v(" "+e._s(e.rowRecommendation.errorHeader)+" ")]),r("v-card-text",[e._v(" "+e._s(e.rowRecommendation.errorDescription)+" ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){return e.applyRecommendation()}}},[e._v(" Retry ")]),r("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){e.errorDialogOpened=!1}}},[e._v(" Close ")])],1)],1)],1):e._e()],1)},Ot=[],xt=(r("b0c0"),r("fb6a"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),function e(){Object(p["a"])(this,e)});function wt(e,t){var r="/".concat(e,"/").length,n="/".concat(e,"/[^/]*"),o=new RegExp(n),a=o.exec(t);if(null===a)return"NOT IMPLEMENTED";var c=a[0].slice(r);return c}function Rt(e){return new Promise((function(t){return setTimeout(t,e)}))}function _t(){return xt.PRODUCTION_SERVER_ADDRESS}function kt(e){return e.content.operationGroups[0].operations[0].resource}function Tt(e){var t=kt(e);return wt("instances",t)}function Et(e){var t=kt(e);return wt("projects",t)}function Dt(e){var t=e.primaryImpact.costProjection.cost;console.assert("USD"===t.currencyCode,"Only USD supported, got %s",t.currencyCode);var r=parseInt(e.primaryImpact.costProjection.duration.slice(0,-1)),n=0;return void 0!==t.units&&(n+=parseInt(t.units)),void 0!==t.nanos&&(n+=t.nanos/1e9),60*n*60*24*7/r}function Pt(e){return e.recommenderSubtype}xt.DEVELOPMENT_SERVER_ADDRESS="http://localhost:8000",xt.PRODUCTION_SERVER_ADDRESS="";var Nt={ACTIVE:"Applicable",CLAIMED:"In progress",SUCCEEDED:"Success",FAILED:"Failed",DISMISSED:"Dismissed"};function At(e){if(!(e in Nt))throw"invalid status name passed: ".concat(e)}function It(e){return At(e),Nt[e]}var Ft=function e(t){Object(p["a"])(this,e),this.name=t.name,this.description=t.description,this.recommenderSubtype=t.recommenderSubtype,this.primaryImpact=t.primaryImpact,this.content=t.content,this.stateInfo=t.stateInfo,this.costCol=Dt(t),this.projectCol=Et(t),this.resourceCol=Tt(t),this.typeCol=Pt(t),this.statusCol=It(t.stateInfo.state)},$t=n["default"].extend({props:{rowRecommendation:{type:Object,required:!0}}}),Vt=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){var e;return Object(p["a"])(this,r),e=t.apply(this,arguments),e.errorDialogOpened=!1,e}return Object(g["a"])(r,[{key:"checkStatus",value:function(e){return At(e),this.rowRecommendation.statusCol===It(e)}},{key:"applyRecommendation",value:function(){this.$store.dispatch("recommendationsStore/applyGivenRecommendations",[this.rowRecommendation.name])}}]),r}($t);Vt=Object(h["a"])([v["a"]],Vt);var Mt=Vt,Lt=Mt,Bt=r("8336"),Ht=r("b0af"),qt=r("99d9"),Ut=r("169a"),Gt=r("2fa4"),zt=Object(c["a"])(Lt,Ct,Ot,!1,null,null,null),Jt=zt.exports;B()(zt,{VBtn:Bt["a"],VCard:Ht["a"],VCardActions:qt["a"],VCardText:qt["b"],VCardTitle:qt["c"],VDialog:Ut["a"],VIcon:lt["a"],VSpacer:Gt["a"]});var Yt=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){var e;return Object(p["a"])(this,r),e=t.apply(this,arguments),e.headers=[{text:"Resource",value:"resourceCol",sortable:!0},{text:"Project",value:"projectCol",sortable:!0},{text:"Type",value:"typeCol",sortable:!0},{text:"Description",value:"description",sortable:!1},{text:"Savings/cost per week",value:"costCol",sortable:!0},{text:"",value:"statusCol",sortable:!1}],e}return Object(g["a"])(r,[{key:"selectedRows",get:function(){return this.$store.state.coreTableStore.selected},set:function(e){this.$store.commit("coreTableStore/setSelected",e)}}]),r}(v["b"]);Yt=Object(h["a"])([Object(v["a"])({components:{FiltersRow:Pe,ResourceCell:Le,ProjectCell:Ye,TypeCell:mt,DescriptionCell:rt,SavingsCostCell:jt,ApplyAndStatusCell:Jt}})],Yt);var Wt=Yt,Kt=Wt,Qt=r("8fea"),Xt=Object(c["a"])(Kt,S,y,!1,null,null,null),Zt=Xt.exports;B()(Xt,{VDataTable:Qt["a"]});var er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.selectedRowsCount>0?r("v-footer",{staticClass:"pa-xl-6 pa-lg-5 pa-md-4 pa-sm-3 pa-xs-0",attrs:{fixed:!0,color:"rgba(255, 210, 20, 1)",app:!0}},[r("v-row",{staticClass:"px-5"},[r("v-col",[r("div",{staticClass:"font-weight-black"},[e._v(" "+e._s(e.footerMessage)+" ")])])],1),r("v-row",{staticClass:"px-5"},[r("v-col",[r("v-btn",{attrs:{rounded:"",color:"primary",dark:""},on:{click:function(t){e.dialog=!0}}},[e._v("Apply Selected Recommendation"+e._s(1==e.selectedRowsCount?"":"s"))])],1)],1)],1):e._e(),r("v-dialog",{attrs:{"max-width":"640px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[r("v-row",[r("v-col",[e._v("Are you sure you want to apply "+e._s(e.selectedRowsCount)+" recommendation"+e._s(1==e.selectedRowsCount?"":"s")+"?")])],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green white--text"},on:{click:function(t){e.applySelectedRecommendations(),e.dialog=!1}}},[e._v(" Proceed ")]),r("v-btn",{attrs:{color:"red white--text"},on:{click:function(t){e.dialog=!1}}},[e._v(" Resign ")])],1)],1)],1)],1)},tr=[],rr=(r("99af"),r("4de4"),r("d81d"),r("13d5"),function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){var e;return Object(p["a"])(this,r),e=t.apply(this,arguments),e.dialog=!1,e}return Object(g["a"])(r,[{key:"applySelectedRecommendations",value:function(){this.$store.dispatch("recommendationsStore/applyGivenRecommendations",this.selectedRows.map((function(e){return e.name}))),this.$store.commit("coreTableStore/setSelected",[])}},{key:"selectedRows",get:function(){return this.$store.state.coreTableStore.selected}},{key:"selectedRowsCount",get:function(){return this.selectedRows.length}},{key:"savingsFromSelected",get:function(){return this.selectedRows.filter((function(e){return e.costCol<0})).reduce((function(e,t){return e-t.costCol}),0)}},{key:"spendingsFromSelected",get:function(){return this.selectedRows.filter((function(e){return e.costCol>0})).reduce((function(e,t){return e+t.costCol}),0)}},{key:"performanceSelectedCount",get:function(){return this.selectedRows.filter((function(e){return e.costCol>0})).reduce((function(e){return e+1}),0)}},{key:"applyPart",get:function(){return"Apply ".concat(this.selectedRowsCount," recommendation").concat(1==this.selectedRowsCount?"":"s",".")}},{key:"savingsPart",get:function(){var e=this.savingsFromSelected;return 0===e?"":" Save ".concat(e.toFixed(2),"$ each week by using only the necessary resources.")}},{key:"spendingsPart",get:function(){return 0===this.performanceSelectedCount?"":" Increase performance of ".concat(this.performanceSelectedCount," machine").concat(1==this.performanceSelectedCount?"":"s",", by spending ").concat(this.spendingsFromSelected.toFixed(2),"$ more each week.")}},{key:"footerMessage",get:function(){return this.applyPart+this.savingsPart+this.spendingsPart}}]),r}(n["default"]));rr=Object(h["a"])([v["a"]],rr);var nr=rr,or=nr,ar=r("62ad"),cr=r("553a"),sr=r("0fd9"),ir=Object(c["a"])(or,er,tr,!1,null,null,null),ur=ir.exports;B()(ir,{VBtn:Bt["a"],VCard:Ht["a"],VCardActions:qt["a"],VCardTitle:qt["c"],VCol:ar["a"],VDialog:Ut["a"],VFooter:cr["a"],VRow:sr["a"],VSpacer:Gt["a"]});var lr=function(e){Object(f["a"])(r,e);var t=Object(b["a"])(r);function r(){return Object(p["a"])(this,r),t.apply(this,arguments)}return r}(v["b"]);lr=Object(h["a"])([Object(v["a"])({components:{CoreTable:Zt,Footer:ur}})],lr);var dr=lr,mr=dr,pr=r("7496"),fr=r("40dc"),br=r("a523"),hr=r("f6c4"),vr=r("8e36"),Sr=Object(c["a"])(mr,d,m,!1,null,null,null),yr=Sr.exports;B()(Sr,{VApp:pr["a"],VAppBar:fr["a"],VCol:ar["a"],VContainer:br["a"],VMain:hr["a"],VProgressLinear:vr["a"],VRow:sr["a"]}),n["default"].use(l["a"]);var gr=[{path:"/",name:"Home",component:yr}],jr=new l["a"]({mode:"hash",base:"/",routes:gr}),Cr=jr,Or=r("2f62"),xr=(r("4160"),r("a630"),r("4ec9"),r("6062"),r("3ca3"),r("159b"),r("ddb0"),r("b85c")),wr=(r("96cf"),r("1da1")),Rr=_t(),_r=100,kr=200,Tr=200;function Er(){return{recommendations:[],recommendationsByName:new Map,progress:null,errorCode:void 0,errorMessage:void 0}}var Dr={addRecommendation:function(e,t){var r=new Ft(t);if(void 0!==e.recommendationsByName.get(r.name))throw"Duplicate recommendation name";e.recommendations.push(r),e.recommendationsByName.set(r.name,r)},endFetching:function(e){e.progress=null},setProgress:function(e,t){e.progress=t},resetRecommendations:function(e){e.recommendations=[],e.recommendationsByName.clear()},setError:function(e,t){e.errorCode=t.errorCode,e.errorMessage=t.errorMessage},setRecommendationStatus:function(e,t){var r=e.recommendationsByName.get(t.recName);if(void 0==r)throw"Attempting to access an inexistent recommendation";r.statusCol=It(t.newStatus)},setRecommendationError:function(e,t){var r=e.recommendationsByName.get(t.recName);if(void 0==r)throw"Attempting to access an inexistent recommendation";r.errorHeader=t.header,r.errorDescription=t.desc}},Pr={fetchRecommendations:function(e){return Object(wr["a"])(regeneratorRuntime.mark((function t(){var r,n,o,a,c,s,i,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===e.state.progress){t.next=2;break}return t.abrupt("return");case 2:e.commit("setProgress",0);case 3:return t.next=5,fetch("".concat(Rr,"/recommendations"));case 5:return r=t.sent,t.next=8,r.json();case 8:if(n=t.sent,o=r.status,o===Tr){t.next=14;break}return e.commit("setError",{errorCode:o,errorMessage:n.errorMessage}),e.commit("endFetching"),t.abrupt("return");case 14:if(void 0===n.recommendations){t.next=16;break}return t.abrupt("break",21);case 16:return e.commit("setProgress",Math.floor(100*n.batchesProcessed/n.numberOfBatches)),t.next=19,Rt(_r);case 19:t.next=3;break;case 21:a=Object(xr["a"])(n.recommendations);try{for(a.s();!(c=a.n()).done;)s=c.value,e.commit("addRecommendation",s)}catch(d){a.e(d)}finally{a.f()}i=Object(xr["a"])(e.state.recommendations);try{for(i.s();!(u=i.n()).done;)l=u.value,l.statusCol==It("CLAIMED")&&e.dispatch("watchStatus",l)}catch(d){i.e(d)}finally{i.f()}e.commit("endFetching");case 26:case"end":return t.stop()}}),t)})))()},applyGivenRecommendations:function(e,t){var r=e.dispatch,n=e.state;if(new Set(t).size!==t.length)throw"Duplicates found among given recommendation names";var o=t.map((function(e){return n.recommendationsByName.get(e)}));if(o.includes(void 0))throw"Name given doesn't match an existing recommendation";o.forEach((function(e){return r("applySingleRecommendation",e)}))},applySingleRecommendation:function(e,t){return Object(wr["a"])(regeneratorRuntime.mark((function r(){var n,o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=e.dispatch,n("setRecommendationStatus",{recName:t.name,newStatus:"CLAIMED"}),r.next=4,fetch("".concat(Rr,"/recommendations/apply?name=").concat(t.name),{method:"POST"});case 4:a=r.sent,a.status===Tr?o("watchStatus",t):(n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),n("setRecommendationError",{recName:t.name,header:"HTTP ERROR(".concat(a.status,")"),desc:"Couldn't reach the Recomator API:\n".concat(a.statusText)}));case 6:case"end":return r.stop()}}),r)})))()},watchStatus:function(e,t){return Object(wr["a"])(regeneratorRuntime.mark((function r(){var n,o,a,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=e.dispatch,r.next=3,fetch("".concat(Rr,"/recommendations/checkStatus?name=").concat(t.name));case 3:if(a=r.sent,a.status!==Tr){r.next=26;break}return r.next=7,a.json();case 7:c=r.sent,r.t0=c.status,r.next="IN PROGRESS"===r.t0?11:"SUCCEEDED"===r.t0?13:"NOT APPLIED"===r.t0?15:"FAILED"===r.t0?18:21;break;case 11:return n("setRecommendationStatus",{recName:t.name,newStatus:"CLAIMED"}),r.abrupt("break",24);case 13:return n("setRecommendationStatus",{recName:t.name,newStatus:"SUCCEEDED"}),r.abrupt("return");case 15:return n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),n("setRecommendationError",{recName:t.name,header:"Server hasn't acknowledged the request",desc:"Recomator API has not received the request to apply this recommendation. You can try applying it again."}),r.abrupt("return");case 18:return n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),n("setRecommendationError",{recName:t.name,header:"Applying recommendation failed server-side. You can try applying it again.",desc:"".concat(c.errorMessage)}),r.abrupt("return");case 21:return n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),n("setRecommendationError",{recName:t.name,header:"Bad status(".concat(c.status,")"),desc:"Recomator API status not recognized."}),r.abrupt("return");case 24:r.next=29;break;case 26:n("setRecommendationStatus",{recName:t.name,newStatus:"FAILED"}),t.errorHeader="Status query failed (HTTP:".concat(a.status,")"),t.errorDescription="Failed to reach the Recomator API, recommendation status is unknown. We will try again in a moment.";case 29:setTimeout((function(){return o("watchStatus",t)}),kr);case 30:case"end":return r.stop()}}),r)})))()}},Nr={allProjects:function(e){var t=e.recommendations.map((function(e){return Et(e)}));return Array.from(new Set(t))},allTypes:function(e){var t=e.recommendations.map((function(e){return Pt(e)}));return Array.from(new Set(t))},allStatuses:function(e){var t=e.recommendations.map((function(e){return It(e.stateInfo.state)}));return Array.from(new Set(t))}};function Ar(){return{namespaced:!0,state:Er(),mutations:Dr,actions:Pr,getters:Nr}}n["default"].use(Or["b"]);var Ir={filteredRecommendationsWithExtras:function(e){return e.recommendationsStore.recommendations.filter((function(t){return I(e.coreTableStore,t)}))}};function Fr(){var e={state:{},getters:Ir,modules:{recommendationsStore:Ar(),coreTableStore:A()}};return new Or["a"](e)}var $r=Fr(),Vr=r("ce5b"),Mr=r.n(Vr);n["default"].use(Mr.a);var Lr=new Mr.a({}),Br=Lr,Hr={content:{operationGroups:[{operations:[{path:"/machineType",resource:"//compute.googleapis.com/projects/rightsizer-test/zones/us-east1-b/instances/alicja-test",resourceType:"compute.googleapis.com/Instance"},{path:"/machineType",resource:"//compute.googleapis.com/projects/rightsizer-test/zones/us-east1-b/instances/alicja-test",resourceType:"compute.googleapis.com/Instance"}]}]},description:"Save cost by changing machine type from n1-standard-4 to custom-2-5120.",name:"projects/323016592286/locations/us-east1-b/recommenders/google.compute.instance.MachineTypeRecommender/recommendations/6dfd692f-14b7-499a-be95-a09fe0893911",primaryImpact:{category:"COST",costProjection:{cost:{currencyCode:"USD",units:"-73"},duration:"2592000s"}},recommenderSubtype:"CHANGE_MACHINE_TYPE",stateInfo:{state:"CLAIMED"}};function qr(){return JSON.parse(JSON.stringify(Hr))}n["default"].config.productionTip=!1,$r.commit("recommendationsStore/addRecommendation",qr()),new n["default"]({router:Cr,store:$r,vuetify:Br,render:function(e){return e(u)}}).$mount("#app")}});
//# sourceMappingURL=app.1ca15dbe.js.map